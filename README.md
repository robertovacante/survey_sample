# survey_sample

## Introduction
This project consists of a Stata do file named "survey_sample.do", created to simulate conducting, data gathering and analysis of a sample survey.

## Installation and Requirements
- Make sure you have Stata installed on your machine.
- Make sure you have a LaTeX editor to run TEX files for PDF.
- Clone or download this repository to your working directory, if you want.

__________________________________________

After running "survey_sample.do", the following files will be located in your working directory:

## File Description
- `survey_sample.do`: The main do file that performs the survey analysis simulation.
- `dataset.dta`: This dataset contains sample data.
- `mysurvey`: This folder contains the (1.000) files of each respondent's answers in CSV format.
- `table1.tex`: Two-way table exported by Stata, showing the percentage of the discrete choice variable by sex.
- `write_sample.tex`: The main TEX file generated by Stata, it includes the above TEX file.

__________________________________________

# WHAT IS INSIDE `survey_sample.do`

(details are commented out in the do file itself)

---
## RANDOM DATA GENERATING - SECTION 1 (from cmd line #11):
- random dates generating (from 1/1/2010 to 31/12/2020).
- random choice variable generating (it simulates a discrete choice given to respondents from 1 to 10).
- random IDs generating (it generates unique Identification Codes for each respondent).

## CSV EXPORT FOR EACH RESPONDENT - SECTION 2 (from cmd line #48):
- CSV file exporting (containing its data and answers) for each respondent.

## SURVEY ANALYSIS - SECTION 3 (from cmd line #57):
- firstly, it specifies survey design in stata.
- basic statistics (two-way table by percentages).
- two-way table export in LaTeX file `table1.tex`.

## OBSERVATION APPEND - SECTION 4 (from cmd line #81)
- append each CSV file, filling each observation
- prepare for data replication 


## TESTING FOR DATA REPLICATION - SECTION 5 (form cmd line #101)
It is fundamental that data can be replicable.
- check if data already exist.
- a new dataset is stored only if the replication routine does not halt.

## TESTING FOR GOODNESS OF DISTRIBUTION - SECTION 6 (from cmd line #112)
- generating group count-variable for each answer (male/female)
- t-test random data with the distribution used for its generation.

## MAIN TEX FILE EXPORT - SECTION 7 (from cmd line #120)
- LaTeX file `write_sample.tex` preamble writing and generating.
- `table1.tex` input in main file.
__________________________________________



## Bugs reporting
If something in the code reproduces error messages, please email me: roberto.vacante@studio.unibo.it


---
